#include <iostream>
#include <cstdlib>
#include <ctime>

using namespace std;

int main() {
    const int N = 4; // розмір квадратної матриці
    int arr[N][N];

    srand(time(0)); // ініціалізація генератора випадкових чисел

    int *ptr = &arr[0][0]; // вказівник на перший елемент масиву

    // Заповнення масиву випадковими числами (1–50)
    for (int i = 0; i < N * N; i++) {
        *(ptr + i) = rand() % 50 + 1;
    }

    cout << "Matrix:\n";

    // Виведення матриці через вказівники
    for (int i = 0; i < N; i++) {
        int *rowPtr = *(arr + i); // вказівник на початок рядка
        for (int j = 0; j < N; j++) {
            cout << *(rowPtr + j) << "\t";
        }
        cout << endl;
    }

    cout << "\nMain diagonal: ";
    int evenCount = 0, oddCount = 0;

    for (int i = 0; i < N; i++) {
        int *rowPtr = *(arr + i);
        cout << *(rowPtr + i) << " ";
    }

    cout << "\nSecondary diagonal: ";

    for (int i = 0; i < N; i++) {
        int *rowPtr = *(arr + i);
        cout << *(rowPtr + (N - 1 - i)) << " ";
    }

    // Підрахунок парних та непарних елементів
    for (int i = 0; i < N * N; i++) {
        if (*(ptr + i) % 2 == 0)
            evenCount++;
        else
            oddCount++;
    }

    cout << "\n\nEven elements: " << evenCount << endl;
    cout << "Odd elements: " << oddCount << endl;

    return 0;
}
